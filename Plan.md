# 1. Автоматизируемые сценарии

## Сценарий 1. Проверяем открытие анкеты после нажатия на кнопку "Купить".
<img width="633" alt="image" src="https://github.com/alekanic/Diploma/assets/127054802/1918ac7d-7555-4112-936c-c2b4b77117e7">

1. Открываем [сервис](http://localhost:8080)
2. Нажимаем на кнопку "Купить"

Ожидаемый результат: появляется анкета для заполнения данных карты, и над анкетой текст - "Оплата по карте"

## Сценарий 2. Проверяем открытие анкеты после нажатия на кнопку "Купить в кредит".
<img width="629" alt="image" src="https://github.com/alekanic/Diploma/assets/127054802/fc111f95-e0a9-4024-97b9-435f711ebe81">

1. Открываем [сервис](http://localhost:8080)
2. Нажимаем на кнопку "Купить в кредит"

Ожидаемый результат: появляется анкета для заполнения данных карты, и над анкетой текст - "Кредит по данным карты"

## Сценарий 3. Проверяем отправку валидных данных через сервис платежей (Payment Gate).
<img width="624" alt="image" src="https://github.com/alekanic/Diploma/assets/127054802/aafc2dff-968e-4487-ab9c-47bb45f08566">

1. Открываем [сервис](http://localhost:8080)
2. Нажимаем на кнопку "Купить"
3. В поле "Номер карты" вводим "4444 4444 4444 4441"
4. В поле "Месяц" вводим число, в формате "ММ" от 0 до 12. Если в поле "Год" указан текущий год, то месяц должен быть либо равен, либо больше текущего.
5. В поле "Год" вводим число, в формате "ГГ" от N до N+6, где N - текущий год (от 23 до 28 на момент написания текста)
6. В графе "Владелец" вводим любые символы в неограниченном количествве
7. В графе "CVC/CVV" вводим любые 3 цифры
8. Нажимаем на кнопку "Продолжить"

Ожидаемый результат: появляется уведомление "Успешно Операция одобрена Банком."

## Сценарий 4. Проверяем отправку валидных данных через кредитный сервис (Credit Gate).
<img width="610" alt="image" src="https://github.com/alekanic/Diploma/assets/127054802/6484e2cb-cb59-40e9-94b9-d87c24cac3ad">

1. Открываем [сервис](http://localhost:8080)
2. Нажимаем на кнопку "Купить в кредит"
3. В поле "Номер карты" вводим "4444 4444 4444 4441"
4. В поле "Месяц" вводим число, в формате "ММ" от 0 до 12. Если в поле "Год" указан текущий год, то месяц должен быть либо равен, либо больше текущего.
5. В поле "Год" вводим число, в формате "ГГ" от N до N+6, где N - текущий год (от 23 до 28 на момент написания текста)
6. В графе "Владелец" вводим любые символы в неограниченном количествве
7. В графе "CVC/CVV" вводим любые 3 цифры
8. Нажимаем на кнопку "Продолжить"

Ожидаемый результат: появляется уведомление "Успешно Операция одобрена Банком."

## Сценарий 5. Проверяем отправку анкеты с невалидным номером карты.
<img width="626" alt="image" src="https://github.com/alekanic/Diploma/assets/127054802/fdd5450e-b248-46c7-a42e-d02485e8fd05">

1. Открываем [сервис](http://localhost:8080)
2. Нажимаем на кнопку "Купить"
3. В поле "Номер карты" вводим от 1 до 16 цифр (не должно совпадать с валидным значением)
4. В поле "Месяц" вводим число, в формате "ММ" от 0 до 12. Если в поле "Год" указан текущий год, то месяц должен быть либо равен, либо больше текущего.
5. В поле "Год" вводим число, в формате "ГГ" от N до N+6, где N - текущий год (от 23 до 28 на момент написания текста)
6. В графе "Владелец" вводим любые символы в неограниченном количествве
7. В графе "CVC/CVV" вводим любые 3 цифры
8. Нажимаем на кнопку "Продолжить"

Ожидаемый результат: "Ошибка! Банк отказал в проведении операции"
Реальный результат: при вводе "4444 4444 4444 4442" выводится "Успешно Операция одобрена Банком" (хотя в файле data.json статус DECLINED)

## Сценарий 6. Проверяем отправку анкеты с данными в неверном формате в поле "Месяц".
<img width="620" alt="image" src="https://github.com/alekanic/Diploma/assets/127054802/6614bd35-dd72-4c39-ad1a-a7da7e18d481">


1. Открываем [сервис](http://localhost:8080)
2. Нажимаем на кнопку "Купить"
3. В поле "Номер карты" вводим 16 цифр
4. В поле "Месяц" вводим число в формате "М"
6. В поле "Год" вводим число, в формате "ГГ" от N до N+6, где N - текущий год (от 23 до 28 на момент написания текста)
7. В графе "Владелец" вводим любые символы в неограниченном количествве
8. В графе "CVC/CVV" вводим любые 3 цифры
9. Нажимаем на кнопку "Продолжить"

Ожидаемый результат: под полем "Месяц" появляется подпись "Неверный формат"

## Сценарий 7. Проверяем отправку анкеты с закончившимся в текущем году сроком действия карты.
<img width="638" alt="image" src="https://github.com/alekanic/Diploma/assets/127054802/7d18de6b-b8c5-41d2-b3dd-5f0b63422316">

1. Открываем [сервис](http://localhost:8080)
2. Нажимаем на кнопку "Купить"
3. В поле "Номер карты" вводим 16 цифр
4. В поле "месяц" вводим число в формате "ММ" от 1 до текущего номера месяца, но не равное ему. Либо от 13 до 99.
6. В поле "Год" текущий год (на момент написания текста 23)
7. В графе "Владелец" вводим любые символы в неограниченном количествве
8. В графе "CVC/CVV" вводим любые 3 цифры
9. Нажимаем на кнопку "Продолжить"

Ожидаемый результат: под полем "Месяц" появляется подпись "Неверно указан срок действия карты"

## Сценарий 8. Проверяем отправку анкеты, когда в поле "Год" значение меньше текущего года.
<img width="612" alt="image" src="https://github.com/alekanic/Diploma/assets/127054802/9a256790-0fa7-4e85-974e-a303516fda94">

1. Открываем [сервис](http://localhost:8080)
2. Нажимаем на кнопку "Купить"
3. В поле "Номер карты" вводим 16 цифр
4. В поле "Месяц" вводим число, в формате "ММ" от 0 до 12.
5. В поле "Год" вводим число в формате "ГГ" меньше текущего года (на момент написания текста 23, значит от 0 до 22).
6. В графе "Владелец" вводим любые символы в неограниченном количествве
7. В графе "CVC/CVV" вводим любые 3 цифры
8. Нажимаем на кнопку "Продолжить"

Ожидаемый результат: под полем "Год" появляется подпись: "Истек срок действия карты"

## Сценарий 9. Проверяем отправку анкеты, когда в поле "Год" значение больше текущего года на 6 и более лет.
<img width="618" alt="image" src="https://github.com/alekanic/Diploma/assets/127054802/2ebe7f34-4441-4fa7-8cf9-1f1b684cd39a">

1. Открываем [сервис](http://localhost:8080)
2. Нажимаем на кнопку "Купить"
3. В поле "Номер карты" вводим 16 цифр
4. В поле "Месяц" вводим число, в формате "ММ" от 0 до 12.
5. В поле "Год" вводим число в формате "ГГ", которое больше текущего года на 6 и более лет.
6. В графе "Владелец" вводим любые символы в неограниченном количествве
7. В графе "CVC/CVV" вводим любые 3 цифры
8. Нажимаем на кнопку "Продолжить"

Ожидаемый результат: под полем "Год" появляется подпись: "Неверно указан срок действия карты"

## Сценарий 10. Проверяем отправку анкеты с данными в неверном формате в поле "Год".
<img width="622" alt="image" src="https://github.com/alekanic/Diploma/assets/127054802/410b93b8-4db2-4c31-a3a5-0979c8a8aaec">

1. Открываем [сервис](http://localhost:8080)
2. Нажимаем на кнопку "Купить"
3. В поле "Номер карты" вводим 16 цифр
4. В поле "Месяц" вводим число, в формате "ММ" от 0 до 12
5. В поле "Год" вводим число в формате "Г"
6. В графе "Владелец" вводим любые символы в неограниченном количествве
7. В графе "CVC/CVV" вводим любые 3 цифры
8. Нажимаем на кнопку "Продолжить"

Ожидаемый результат: под полем "Год" появляется подпись: "Неверный формат"

## Сценарий 11. Проверяем отправку анкеты с данными в неверном формате в поле "Год".
<img width="637" alt="image" src="https://github.com/alekanic/Diploma/assets/127054802/883a9c83-7e0c-4ed1-a9ec-1ed3ccdc0a63">

1. Открываем [сервис](http://localhost:8080)
2. Нажимаем на кнопку "Купить"
3. В поле "Номер карты" вводим 16 цифр
4. В поле "Месяц" вводим число, в формате "ММ" от 0 до 12
5. В поле "Год" вводим число в формате "ГГ", которое больше текущего года на 6 и более лет.
6. В графе "Владелец" вводим любые символы в неограниченном количествве
7. В графе "CVC/CVV" вводим от 1 до 2 цифр
8. Нажимаем на кнопку "Продолжить"

Ожидаемый результат: под полем "CVC/CVV" появляется подпись: "Неверный формат"

## Сценарий № 12. Проверяем отправку анкеты с пустыми полями.
<img width="641" alt="image" src="https://github.com/alekanic/Diploma/assets/127054802/6e214f28-3264-491e-bdd1-8ead87805f07">

1. Открываем [сервис](http://localhost:8080)
2. Нажимаем на кнопку "Купить"
3. Нажимаем на кнопку "Продолжить"

Ожидаемый результат: под полями "Номер карты", "Месяц", "Год" и "CVC/CVV" появляется подпись "Неверный формат". Под полем "Владелец" появляется подпись "Поле обязательно для заполнения"

## Сценарий № 13. Проверяем отправку анкеты с незаполненным полем "Номер карты"
<img width="611" alt="image" src="https://github.com/alekanic/Diploma/assets/127054802/610d6195-aa12-4ea2-95ac-872b55ec9651">

1. Открываем [сервис](http://localhost:8080)
2. Нажимаем на кнопку "Купить"
3. В поле "Месяц" вводим число, в формате "ММ" от 1 до 12.
4. В поле "Год" вводим число, в формате "ГГ" от N до N+6, где N - текущий год (от 23 до 29 на момент написания текста)
5. В графе "Владелец" вводим любые символы в неограниченном количествве
6. В графе "CVC/CVV" вводим любые 3 цифры
7. Нажимаем на кнопку "Продолжить"

Ожидаемый результат: под полем "Номер карты" появляется подпись "Неверный формат".

## Сценарий № 14. Проверяем отправку анкеты с незаполненным полем "Месяц"
<img width="619" alt="image" src="https://github.com/alekanic/Diploma/assets/127054802/ca9e97c1-628d-444f-8f1b-fe8849adb615">

1. Открываем [сервис](http://localhost:8080)
2. Нажимаем на кнопку "Купить"
3. В поле "Номер карты" вводит 16 цифр
4. В поле "Год" вводим число, в формате "ГГ" от N до N+6, где N - текущий год (от 23 до 29 на момент написания текста)
5. В графе "Владелец" вводим любые символы в неограниченном количествве
6. В графе "CVC/CVV" вводим любые 3 цифры
7. Нажимаем на кнопку "Продолжить"

Ожидаемый результат: под полем "Месяц" появляется подпись "Неверный формат".

## Сценарий № 15. Проверяем отправку анкеты с незаполненным полем "Год"
<img width="624" alt="image" src="https://github.com/alekanic/Diploma/assets/127054802/83aa23fe-6547-4d38-a6b2-9d8247e46f70">

1. Открываем [сервис](http://localhost:8080)
2. Нажимаем на кнопку "Купить"
3. В поле "Номер карты" вводит 16 цифр
4. В поле "Месяц" вводим число, в формате "ММ" от 1 до 12.
5. В графе "Владелец" вводим любые символы в неограниченном количествве
6. В графе "CVC/CVV" вводим любые 3 цифры
7. Нажимаем на кнопку "Продолжить"

Ожидаемый результат: под полем "Год" появляется подпись "Неверный формат".

## Сценарий № 16. Проверяем отправку анкеты с незаполненным полем "Владелец"
<img width="634" alt="image" src="https://github.com/alekanic/Diploma/assets/127054802/3975cf85-9079-47f1-8d34-d4fca5298f43">

1. Открываем [сервис](http://localhost:8080)
2. Нажимаем на кнопку "Купить"
3. В поле "Номер карты" вводит 16 цифр
4. В поле "Год" вводим число, в формате "ГГ" от N до N+6, где N - текущий год (от 23 до 29 на момент написания текста)
5. В поле "Месяц" вводим число, в формате "ММ" от 1 до 12.
6. В графе "Владелец" вводим любые символы в неограниченном количествве
7. В графе "CVC/CVV" вводим любые 3 цифры
8. Нажимаем на кнопку "Продолжить"

Ожидаемый результат: под полем "Владелец" появляется подпись "Поле обязательно для заполнения".

## Сценарий № 17. Проверяем отправку анкеты с незаполненным полем "CVC/CVV"
<img width="634" alt="image" src="https://github.com/alekanic/Diploma/assets/127054802/c19bc4ca-9995-408a-8cea-f8c3ef0c4b67">

1. Открываем [сервис](http://localhost:8080)
2. Нажимаем на кнопку "Купить"
3. В поле "Номер карты" вводит 16 цифр
4. В поле "Год" вводим число, в формате "ГГ" от N до N+6, где N - текущий год (от 23 до 29 на момент написания текста)
5. В поле "Месяц" вводим число, в формате "ММ" от 1 до 12.
6. В графе "Владелец" вводим любые символы в неограниченном количествве
8. Нажимаем на кнопку "Продолжить"

Ожидаемый результат: под полем "CVC/CVV" появляется подпись "Неверный формат".

И еще почему-то подпись под Владельцем

# 2. Перечень используемых инструментов с обоснованием выбора.

1. Docker - создание среды для тестирования
2. Gradle - система сборки для Java. Помогает подготовить код к запуску, например скомпилировать и запустить тесты.
3. Selenide - для удобства автоматизации тестов
4. JUnit - для написания тестов
5. Git - для отправки своего проекта на GitHub
6. Postman - для проверки работы API

# 3. Перечень и описание возможных рисков при автоматизации.

1. У нас есть только 2 номера банковских карт, которые принимаются за APPROVED (хотя у карты 4442 должен быть статус DECLAINED). Остальные данные можно менять, и это не отразится на успешности отправки данных. Соответсвенно, у нас сейчас нет проверки по всем данным карты: по соответствию полей месяц, год, владелец, CVC/CVV. И это может вызвать проблемы у реальных пользователей: например, достаточно будет ввести чужой номер карты, чтобы оформить на него кредит или списать деньги.
2. Если сделать привязку к всплывающим уведомлениям ""Успешно Операция одобрена Банком." и "Ошибка! Банк отказал в проведении операции", то в дальнейшем скорее всего придется переписывать тесты, так как разработчики добавят новые страницы, на которые будет переадресован пользователь.
3. Сейчас на страице есть баги - например, если сначала отправить пустую анкету, а потом ввести валидные данные и попытаться отправить еще раз, то все поля будут по-прежнему выделены красным и данные не отправятся. И можно либо писать автотесты, игнорируя те сценарии, в которых баги проявляются, и в таком случае либо баги могут попасть в прод, либо даже после исправления эти сценарии не будут охвачены тестами в дальнейшем. Либо можно писать автотесты как будто бы багов нет, и тогда автотесты будут постоянно падать (то есть писать как должно было бы быть, а не как есть на самом деле). 

# 4. Интервальная оценка с учётом рисков в часах.

12 часов работы, плюс еще 3 часа на риски.

# 5. План сдачи работ: когда будут готовы автотесты, результаты их прогона.

- Сценарии 1-4 будут готовы 29/09 к 18:00
- Сценарии 5-11 будут готовы 1/10 к 18:00
- Сценарии 12-17 будут готовы 3/10 к 18:00
